<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <style>
        .dataDiv {
            width: 48%;
            margin: 10px 10px;
            padding: 0;
            border: 1px dashed red;
            min-height: 800px;
        }

        #fileContent {
            float: left;
        }

        #parseContent {
            float: right;
            background-color: lightblue;
        }
    </style>

</head>

<body>
<!--    <div>-->
<!--        <span><input type="file" onchange="upload(this)" /></span>-->
<!--        <span><button onclick="parse()">解析</button></span>-->
<!--        <span><button onclick="save()">保存</button></span>-->
<!--    </div>-->
<!--    <div class="dataDiv" id="fileContent"></div>-->
<!--    <div class="dataDiv" id="parseContent"></div>-->
    <div id="myDiagramDiv"
         style="width:400px; height:400px; background-color: #DAE4E4;"></div>
</body>

</html>

<script src="lib/go.js"></script>


<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/core.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/cipher-core.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/aes.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/evpkdf.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/md5.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/enc-base64.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/enc-utf16.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/pbkdf2.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/enc-utf8.min.js"></script>-->
<!--<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/pad-pkcs7.min.js"></script>-->
<script src="https://cdn.bootcdn.net/ajax/libs/crypto-js/4.0.0/crypto-js.js"></script>
<script src="script/common.js"></script>
<script>

    let aaa = encryptAES('<?xml version="1.0" encoding="utf-8"?>\n' +
        '<InitModelScene  CongfigName="test" Version="1.0">\n' +
        '  <!--摄像机初始化-->\n' +
        '  <Events Content="Camera_SetCameraRotate_#obj-42,21,2#obj#par2,20,2#par" />\n' +
        '  <Events Content="Camera_SetLimitBound_#obj18,11,40#obj#par-0.5,6.3,-0.7#par" />\n' +
        '  <Events Content="Camera_SetMoveTarget_#objHq_Ltcx_Dh#obj#par0.3,2.5,-0.5#par" />\n' +
        '  \n' +
        '  <Events Content="Object_AddScene_#objscenes_house#obj" />\n' +
        '  <Events Content="Object_ChildHide_#objHq_Dpcs+HQ_Dp_Lt_3#obj" />\n' +
        '  <Events Content="Object_ChildShow_#objHq_Ltgh_Dh+HQ_Jss_01+Tool_Car_2_shib_1+ACC_Wooden_Pallet_shib_1+ACC_Wooden_Pallet_shib_2+Tool_jack_2_1+Tool_jack_2_2#obj" />\n' +
        '  <Events Content="UI_TextContent_#objAngleLabel#obj#par固定视角#par#dotw0.8#1#1#0#dotw" />\n' +
        '  <Events Content="UI_SliderValue_#objAngleSlider#obj#par1#par#dotw0.8#1#1#0#dotw" />\n' +
        '  \n' +
        '  <Events Content="Camera_Patent_#objMain Camera#obj#parCamera001#par" />\n' +
        '  <Events Content="Camera_CloseCameraControl_#objMain Camera#obj" />\n' +
        '  <Events Content="Camera_CloseCameraMouseControl_#objMain Camera#obj" />\n' +
        '  <Events Content="Object_HideObj_#objComponents#obj" />\n' +
        '\n' +
        '\n' +
        '</InitModelScene>', '12345678', 'dxhy!@#');
    // let aaa = 'AXXfAmqdy1qRdBvLyOA7YuYotHf2sWP/+ou0FgSZcDWlRdCfUrHYtGg0ylmIak7PJu7wj4ZL4gZbWzvwTjHc9MX+17IhMyKK2vpFlOvKgOLd1U5/RgNCU0jDc7Xkdr5N2kOn70SDPeCM865bepg2WZkPrpngVRDTjWdztnoH//iMAH0+UP+vejIYdr41LRjFlKUtm/aEszld38/zbkheaikbpVm5mpr/mA/O3Q2h2Z6F7+4z/wxPyb6u5cRy/eYaiaN9/aGFJHD37vDNIWkwHcAOYJqvJ4M5h2EJ2Frltzw3KZiUqLmreFdL9SaaTw7NM/yFVw2dtx3A7OhsDE1HNvPwewNB/D3zXrq5Zjnm+JU55QIrxzTIYPzYma3xA6Xq9WyqoqzGehR3ov7FMShRnmeptyq/ylMEtpMKpFNwoPmZ1nYPQR/s45RZsWftO5t6QL/juuw5ffi8TM8fZQuU39KbOTBAj+savAkXr38uqzI0kisZuh3/YGu6NR66t5nE334JkuyjsX93GH6NJhD7A+8PI47KDnL07Lxrx7V3ByFdRr1xZ20DSvn3Q/NcYRA7f90LtGKDp+5Ii8dwxWJQuXwQ5OJ6IKqNL/shyq1uUhcJPmk0ZOEKI1ZamC5sHypiuqvBUQDAkczsGbCiX4/du2YDaHcxIViajFvIoOw2znAWg6oPLC5HLKCq53Fa7wmir7URWX6owXxrseLfuLWqCGtxDGCxI/b0miFpB9WK2HSF/fNdMV5bMZH+/gH4tr+b0yfoDjzM80EWXoefu3a5dL64s7/aUku64Xr/74zEpWTuRgwjHYh9VhDs2ftf9rpkcStZeP3T71TV5aZoxmGfCw=='
    console.log(aaa);

    setTimeout(() => {
        let s = decryptAES(aaa, '12345678', 'dxhy!@#');
        console.log(s)
    }, 2000)

    // var $ = go.GraphObject.make;
    // var myDiagram =
    //     $(go.Diagram, "myDiagramDiv",
    //         { // enable Ctrl-Z to undo and Ctrl-Y to redo
    //             "undoManager.isEnabled": true
    //         });
    //
    // var myModel = $(go.Model);
    // // for each object in this Array, the Diagram creates a Node to represent it
    // myModel.nodeDataArray = [
    //     { key: "Alpha" },
    //     { key: "Beta" },
    //     { key: "Gamma" }
    // ];
    // myDiagram.model = myModel;


</script>
<!--<script src="lib/FileSaver.min.js"></script>-->
<!--<script type="text/javascript">-->
<!--    var filecontent;-->
<!--    var arrJson = [];-->

<!--    function upload(input) {-->
<!--        if (window.FileReader) {-->
<!--            var file = input.files[0];-->
<!--            filename = file.name.split(".")[0];-->
<!--            var reader = new FileReader();-->
<!--            reader.onload = function() {-->
<!--                document.getElementById("fileContent").innerText = this.result;-->
<!--                filecontent = this.result;-->
<!--            }-->
<!--            reader.readAsText(file);-->
<!--        } else {-->
<!--            alert('error');-->
<!--        }-->
<!--    }-->

<!--    function parse() {-->
<!--        var pos1 = filecontent.indexOf("        #region UtilityName");-->
<!--        //var pos2 = filecontent.indexOf("        #region 特殊字符");-->
<!--        var pos2 = filecontent.indexOf("\n    }");-->
<!--        var fileData = filecontent.substring(pos1, pos2);-->
<!--        var arrSource = fileData.split("\r\n");-->
<!--        var arrTarget = []-->
<!--        var target = '';-->
<!--        var code = [];-->
<!--        var text = [];-->

<!--        arrSource.forEach(element => {-->
<!--            if (element.indexOf("public static") >= 0 ||-->
<!--                element.indexOf("public const") >= 0 ||-->
<!--                (element.indexOf("        ///") >= 0 && element.indexOf("summary") == -1) ||-->
<!--                element.indexOf("#region") >= 0 ||-->
<!--                element.indexOf("#endregion") >= 0-->
<!--            ) {-->
<!--                pos1 = element.lastIndexOf('/');-->
<!--                if (pos1 >= 0) {-->
<!--                    pos2 = element.length;-->
<!--                    target += element.substring(pos1 + 1, pos2) + '|';-->
<!--                }-->
<!--                pos1 = element.indexOf('"');-->
<!--                if (pos1 >= 0) {-->
<!--                    pos2 = element.length;-->
<!--                    target += element.substring(pos1 + 1, pos2 - 2) + '\n';-->
<!--                }-->
<!--            }-->
<!--        });-->
<!--        target = target.replace(/ /g, '');-->
<!--        //document.getElementById("parseContent").innerText = target;-->

<!--        var subArr = [];-->
<!--        var i = 0;-->
<!--        arrTarget = target.split('\n')-->
<!--        subArr = arrTarget[0].split('|');-->
<!--        // 第一条记录不能放在循环内，否则不能把对应的children装入-->
<!--        arrJson.push({-->
<!--            'code': subArr[1],-->
<!--            'text': subArr[0].replace('类名', '工具'),-->
<!--            'children': []-->
<!--        });-->
<!--        arrTarget.splice(0, 1);-->
<!--        arrTarget.forEach(element => {-->
<!--            if (element != '') {-->
<!--                subArr = element.split('|');-->
<!--                //根据“类名”关键字区分类-->
<!--                if (subArr[0].indexOf('类名') > 0) {-->
<!--                    arrJson.push({-->
<!--                        'code': subArr[1],-->
<!--                        'text': subArr[0].replace('类名', '工具'),-->
<!--                        'children': []-->
<!--                    });-->
<!--                    i++;-->
<!--                } else {-->
<!--                    if (subArr.length == 3) {-->
<!--                        var params = subArr[1].split(';');-->
<!--                        //需要处理参数，待定-->
<!--                        arrJson[i].children.push({-->
<!--                            'code': subArr[2],-->
<!--                            'text': subArr[0],-->
<!--                            'obj': 2,-->
<!--                            'par': 2,-->
<!--                            'dotw': 2-->
<!--                        });-->
<!--                    } else {-->
<!--                        arrJson[i].children.push({-->
<!--                            'code': subArr[1],-->
<!--                            'text': subArr[0],-->
<!--                            'obj': 2,-->
<!--                            'par': 2,-->
<!--                            'dotw': 1-->
<!--                        })-->
<!--                    };-->
<!--                }-->
<!--            }-->

<!--        });-->

<!--        //console.log(JSON.stringify(arrJson))-->
<!--        document.getElementById("parseContent").innerText = JSON.stringify(arrJson);-->
<!--    }-->

<!--    function save() {-->
<!--        file = 'classmethod' + '.js';-->
<!--        var content = 'classmethod=' + JSON.stringify(arrJson)-->

<!--        var blob = new Blob([content], {-->
<!--            type: "text/plain;charset=utf-8"-->
<!--        });-->
<!--        saveAs(blob, file);-->
<!--    }-->
<!--</script>-->
